const e={form:document.querySelector(".js-search-form"),list:document.querySelector(".js-gallery")};function t(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function r(e,t){return t.get?t.get.call(e):t.value}function n(e,n){return r(e,t(e,n,"get"))}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,r){a(e,t),t.set(e,r)}function s(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function i(e,r,n){return s(e,t(e,r,"set"),n),n}var l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap;const w=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&console.log(e.target)}))}),{root:null,rootMargin:"100px",threshold:1});e.form.addEventListener("submit",(function(t){t.preventDefault();const r=t.currentTarget.elements.query.value;if(!r)return alert("Input any data!");e.list.innerHTML="",g.query=r,g.getPhotos().then((({results:t,total:r})=>{if(0===t.length)return alert("Enter normal value");const n=t.map((({urls:e,alt_description:t})=>`<li class="gallery__item">\n    <img src="${e.small}" alt="${t}" class="gallery-img">\n</li>`)).join("");e.list.insertAdjacentHTML("beforeend",n),g.setTotalPhotos(r);if(g.hasMorePhotos()){const e=document.querySelector(".gallery__item:last-child");w.observe(e)}})).catch((e=>console.log(e)))}));const g=new class{getPhotos(){return fetch(`${n(this,l)}?client_id=${n(this,c)}&page=${n(this,h)}&query=${n(this,u)}&per_page=${n(this,f)}&color=black_and_white&orientation=landscape`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}setTotalPhotos(e){i(this,p,e)}hasMorePhotos(){return n(this,h)<Math.ceil(n(this,p)/n(this,f))}get query(){return n(this,u)}set query(e){i(this,u,e)}constructor(){o(this,l,{writable:!0,value:"https://api.unsplash.com/search/photos"}),o(this,c,{writable:!0,value:"LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc"}),o(this,u,{writable:!0,value:""}),o(this,h,{writable:!0,value:1}),o(this,f,{writable:!0,value:15}),o(this,p,{writable:!0,value:0})}};
//# sourceMappingURL=infinite-scroll.92ac7291.js.map
